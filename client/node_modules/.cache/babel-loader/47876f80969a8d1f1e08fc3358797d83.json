{"ast":null,"code":"import React,{Component}from\"react\";import SaveBtn from\"../../components/SaveBtn\";import Jumbotron from\"../../components/Jumbotron\";import API from\"../../utils/API\";import{Link}from\"react-router-dom\";import{Col,Row,Container}from\"../../components/Grid\";import{List,ListItem}from\"../../components/List\";import'./style.css';class Search extends Component{constructor(...args){super(...args);this.state={books:[],query:\"\"};this.handleInputChange=event=>{event.preventDefault();this.setState({query:event.target.value});};this.searchGoogle=event=>{event.preventDefault();let query=this.state.query;API.searchGoogle(query).then(res=>this.setState({books:res.data.items,query:\"\"})).catch(err=>console.log(err));};this.saveBook=bookData=>{API.saveBook(bookData).then(res=>console.log(res)).catch(err=>console.log(err));};}render(){return/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"md-12\"},/*#__PURE__*/React.createElement(Jumbotron,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Search Google Books\")))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"query\",name:\"query\",placeholder:\"search\",onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:this.searchGoogle,className:\"search-button\"},\"Search\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"md-12\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Results: \")),this.state.books.length?/*#__PURE__*/React.createElement(List,null,this.state.books.map(book=>/*#__PURE__*/React.createElement(ListItem,{key:book._id},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"md-3\"},/*#__PURE__*/React.createElement(\"img\",{src:book.volumeInfo.imageLinks.thumbnail})),/*#__PURE__*/React.createElement(Col,{size:\"md-9\"},/*#__PURE__*/React.createElement(Link,{to:book.volumeInfo.infoLink},/*#__PURE__*/React.createElement(\"strong\",null,book.volumeInfo.title,\" by \",book.volumeInfo.authors)),/*#__PURE__*/React.createElement(\"p\",null,\"Description: \",book.volumeInfo.description,\" \"),/*#__PURE__*/React.createElement(SaveBtn,{onClick:()=>this.saveBook({title:book.volumeInfo.title,authors:book.volumeInfo.authors,image:book.volumeInfo.imageLinks.thumbnail,description:book.volumeInfo.description,link:book.volumeInfo.infoLink})})))))):/*#__PURE__*/React.createElement(\"div\",{className:\"noResults\"},\" No Results to Display \"))));}}export default Search;","map":{"version":3,"sources":["/Users/emilygilbertsen/Desktop/GitHub/bookshelf/client/src/pages/Search/index.js"],"names":["React","Component","SaveBtn","Jumbotron","API","Link","Col","Row","Container","List","ListItem","Search","state","books","query","handleInputChange","event","preventDefault","setState","target","value","searchGoogle","then","res","data","items","catch","err","console","log","saveBook","bookData","render","length","map","book","_id","volumeInfo","imageLinks","thumbnail","infoLink","title","authors","description","image","link"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SaveBtn from \"../../components/SaveBtn\";\nimport Jumbotron from \"../../components/Jumbotron\";\nimport API from \"../../utils/API\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../../components/Grid\";\nimport { List, ListItem } from \"../../components/List\";\nimport './style.css'\n\nclass Search extends Component {\n    state = {\n        books: [],\n        query: \"\"\n    }\n\n    handleInputChange = event => {\n        event.preventDefault();\n        this.setState({ query: event.target.value });\n    };\n\n    searchGoogle = event => {\n        event.preventDefault();\n        let query = this.state.query\n        API.searchGoogle(query)\n            .then(res =>\n                this.setState({\n                    books: res.data.items,\n                    query: \"\"\n                })\n            )\n            .catch(err => console.log(err));\n    };\n\n    saveBook = bookData => {\n        API.saveBook(bookData)\n            .then(res => console.log(res))\n            .catch(err => console.log(err));\n    }\n\n    render() {\n        return (\n            \n                    <Container fluid>\n                        <Row>\n                            <Col size=\"md-12\">\n                                <Jumbotron>\n                                    <h1>Search Google Books</h1>\n                                </Jumbotron>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col size=\"md-12\">\n                                <div className=\"form-group\">\n                                    <input type=\"text\" className=\"form-control\" id=\"query\" name=\"query\" placeholder=\"search\" onChange={this.handleInputChange} />\n                                </div>\n                                <button type=\"submit\" onClick={this.searchGoogle} className=\"search-button\">Search</button>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col size=\"md-12\">\n                                <div>\n                                    <h1>Results: </h1>\n                                </div>\n                                {this.state.books.length ? (\n                                    <List>\n                                        {this.state.books.map(book => (\n                                            <ListItem key={book._id}>\n                                                <Row>\n                                                    <Col size=\"md-3\">\n                                                        <img src={book.volumeInfo.imageLinks.thumbnail} />\n                                                    </Col>\n                                                    <Col size=\"md-9\">\n                                                        <Link to={book.volumeInfo.infoLink}>\n                                                            <strong>\n                                                                {book.volumeInfo.title} by {book.volumeInfo.authors}\n                                                            </strong>\n                                                        </Link>\n                                                        <p>Description: {book.volumeInfo.description} </p>\n                                                        <SaveBtn onClick={() => this.saveBook({\n                                                            title: book.volumeInfo.title,\n                                                            authors: book.volumeInfo.authors,\n                                                            image: book.volumeInfo.imageLinks.thumbnail,\n                                                            description: book.volumeInfo.description,\n                                                            link: book.volumeInfo.infoLink\n                                                        })} />\n                                                    </Col>\n                                                </Row>\n                                            </ListItem>\n                                        ))}\n                                    </List>\n                                ) : (<div className=\"noResults\"> No Results to Display </div>)}\n                            </Col>\n                        </Row>\n                    </Container>\n                )\n          \n    }\n\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}