(this.webpackJsonpbookshelf=this.webpackJsonpbookshelf||[]).push([[0],{24:function(e,t,a){e.exports=a(59)},29:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(22),r=a.n(o),s=a(8),c=a(1);a(29);var i=function(e){return l.a.createElement("span",Object.assign({className:"save-btn"},e,{role:"button",tabIndex:"0"}),"+")};var m=function({children:e}){return l.a.createElement("div",{style:{paddingTop:"30px",paddingBottom:"30px",clear:"both",textAlign:"center",backgroundColor:"none"}},e)},u=a(9),h=a.n(u),d=function(){return h.a.get("/api/books")},p=function(e){return h.a.delete("/api/books/"+e)},E=function(e){return h.a.post("/api/books",e)},f=function(e){var t=encodeURI(e);return h.a.get("https://www.googleapis.com/books/v1/volumes?q="+t)};function v({fluid:e,children:t}){return l.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function b({fluid:e,children:t}){return l.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function k({size:e,children:t}){return l.a.createElement("div",{className:e.split(" ").map(e=>"col-"+e).join(" ")},t)}a(48);function g({children:e}){return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},e))}function N({children:e}){return l.a.createElement("li",{className:"list-group-item"},e)}a(49);class x extends n.Component{constructor(...e){super(...e),this.state={books:[],query:""},this.handleInputChange=e=>{e.preventDefault(),this.setState({query:e.target.value})},this.searchGoogle=e=>{e.preventDefault();let t=this.state.query;f(t).then(e=>this.setState({books:e.data.items,query:""})).catch(e=>console.log(e))},this.saveBook=e=>{E(e).then(e=>console.log(e)).catch(e=>console.log(e))}}render(){return l.a.createElement(v,{fluid:!0},l.a.createElement(b,null,l.a.createElement(k,{size:"md-12"},l.a.createElement(m,null,l.a.createElement("h1",null,"Search Google Books")))),l.a.createElement(b,null,l.a.createElement(k,{size:"md-12"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"query",name:"query",placeholder:"search",onChange:this.handleInputChange})),l.a.createElement("button",{type:"submit",onClick:this.searchGoogle,className:"search-button"},"Search"))),l.a.createElement(b,null,l.a.createElement(k,{size:"md-12"},l.a.createElement("div",null,l.a.createElement("h1",null,"Results: ")),this.state.books.length?l.a.createElement(g,null,this.state.books.map(e=>l.a.createElement(N,{key:e._id},l.a.createElement(b,null,l.a.createElement(k,{size:"md-3"},l.a.createElement("img",{src:e.volumeInfo.imageLinks.thumbnail})),l.a.createElement(k,{size:"md-9"},l.a.createElement(s.b,{to:e.volumeInfo.infoLink},l.a.createElement("strong",null,e.volumeInfo.title," by ",e.volumeInfo.authors)),l.a.createElement("p",null,"Description: ",e.volumeInfo.description," "),l.a.createElement(i,{onClick:()=>this.saveBook({title:e.volumeInfo.title,authors:e.volumeInfo.authors,image:e.volumeInfo.imageLinks.thumbnail,description:e.volumeInfo.description,link:e.volumeInfo.infoLink})})))))):l.a.createElement("div",{className:"noResults"}," No Results to Display "))))}}var y=x;a(55);var I=function(){return l.a.createElement(v,{fluid:!0},l.a.createElement(b,null,l.a.createElement(k,{size:"md-12"},l.a.createElement(m,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,"Sorry, looks like we couldn't find what you were looking for.")))))};a(56),a(57),a(58);var S=function(e){return l.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"(Remove Book from Shelf)")};class B extends n.Component{constructor(e){super(e),this.handleSpineClick=e=>{e.preventDefault(),this.setState(e=>({open:!e.open}))},this.state={open:!1}}render(){let e,t;return this.state.open?(e={margin:"5px",boxShadow:"rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px"},t=l.a.createElement("div",{className:"coverBod"},l.a.createElement("div",{className:"coverImgHolder"},l.a.createElement("img",{src:this.props.image,className:"coverImg",alt:"bookcover"})),l.a.createElement("div",{className:"coverText"},l.a.createElement(s.b,{to:this.props.link},l.a.createElement("h4",null,this.props.title," by ",this.props.authors)),l.a.createElement("p",null,l.a.createElement("span",{className:"desc"},"Description: "),this.props.description," "),l.a.createElement(S,{onClick:this.props.handleDelete})))):(e={boxShadow:"none"},t=l.a.createElement("div",null)),l.a.createElement("div",{style:e,className:"bookBox"},l.a.createElement("div",{key:this.props._id,className:"spineBod",onClick:this.handleSpineClick},l.a.createElement("h3",null,this.props.title," by ",this.props.authors)),t)}}class C extends n.Component{constructor(...e){super(...e),this.state={books:[]},this.componentDidMount=()=>{this.loadSavedBooks()},this.handleDelete=e=>{p(e).then(e=>this.loadSavedBooks()).catch(e=>console.log(e))}}loadSavedBooks(){d().then(e=>{this.setState({books:e.data})}).catch(e=>console.log(e))}render(){return l.a.createElement(v,{fluid:!0},l.a.createElement(b,null,l.a.createElement(k,{size:"md-12",className:"bookcase"},l.a.createElement(m,null,l.a.createElement("h1",null,"Bookshelf")),this.state.books.length?l.a.createElement("div",{className:"shelf"},this.state.books.map(e=>l.a.createElement(B,{key:e._id,title:e.title,authors:e.authors,link:e.link,image:e.image,description:e.description,handleDelete:()=>this.handleDelete(e._id)}))):l.a.createElement("h3",null,"No saved books to display"))))}}var w=C;var D=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg "},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Search"),l.a.createElement("a",{className:"navbar-brand",href:"/shelf"},"Bookshelf"))};var z=function(){return l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:["/","/books","/search"]},l.a.createElement(y,null)),l.a.createElement(c.a,{exact:!0,path:"/shelf"},l.a.createElement(w,null)),l.a.createElement(c.a,null,l.a.createElement(I,null)))))};r.a.render(l.a.createElement(z,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.f0dc195a.chunk.js.map